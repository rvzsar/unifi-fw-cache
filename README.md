# UniFi Firmware Cache

GitHub Actions workflow для автоматического кэширования прошивок UniFi устройств. Прошивки проверяются на обновления и сохраняются в релизах этого репозитория.

##  Как использовать

### Автоматический режим
Workflow запускается **1-го числа каждого месяца** в 00:00 UTC. Автоматически проверяет обновления для устройств по умолчанию.

### Ручной запуск
1. Перейдите в [Actions](https://github.com/ваш-репозиторий/actions)
2. Выберите **"Cache UniFi Firmware"**
3. Нажмите **"Run workflow"**
4. Опционально укажите коды устройств через запятую

**Примеры:**
```
U7PG2                    # только UniFi UAP-AC-PRO
U7PG2,U7NHD,U7LR         # несколько устройств
```

## Структура релиза

Каждый релиз содержит:
- `.bin` файлы прошивок с именами: `Устройство_Версия.bin`
- Отчет об изменениях версий не работает 
- Дату обновления

Пример имени файла: `U7PG2_6.6.65.15001.bin`

## Конфигурация

Workflow использует:
- **Расписание:** `0 0 1 * *` (ежемесячно)
- **Источник:** [Официальный UniFi API](https://fw-update.ubnt.com/)

## Что происходит при запуске

1. **Проверка обновлений** – сравнивает версии с предыдущим релизом
2. **Скачивание** – загружает только новые/обновленные прошивки
3. **Создание релиза** – формирует новый релиз с тегом `firmware-YYYY-MM-DD`
4. **Очистка** – удаляет устаревший релиз (если есть обновления)

### Переменные окружения
- `FIRMWARE_CATALOG_URL` – URL API UniFi
- `DEVICES` – список устройств для проверки
